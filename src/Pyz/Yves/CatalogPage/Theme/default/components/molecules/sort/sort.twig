{% extends model('component') %}

{% define config = {
    name: 'sort'
} %}

{% block body %}
    <div class="grid grid--justify">
        <div class="{{config.name}}__col col">
            <div class="num-results">
                {{ _view.pagination.numFound }} {{ "catalog.itemsFound"|trans }}
            </div>
            <div class="trigger-filter js-trigger-filter">
                {{ "catalog.filter.filter" | trans }}
                {% include atom('icon') with {
                    class: config.name ~ '__caret',
                    data: {
                        name: 'arrow-down'
                    }
                } only %}
            </div>
        </div>

        <div class="{{config.name}}__col col">
            {% embed atom('custom-select') with {
                modifiers: ['sort', 'naked'],
                attributes: {
                    name: 'sort',
                    'onchange': 'this.form.submit();'
                },
                embed: {
                    sort: _view.sort
                }
            } only %}
                {% block options %}
                    <option value="">{{ 'catalog.sort.relevance' | trans }}</option>
                    {% for sortParamName in embed.sort.sortParamNames %}
                        <option value="{{ sortParamName }}" {% if sortParamName == embed.sort.currentSortParam %}selected{% endif %}>{{ ('catalog.sort.' ~ sortParamName) | trans }}</option>
                    {% endfor %}
                {% endblock %}
            {% endembed %}
        </div>
    </div>
{% endblock %}
